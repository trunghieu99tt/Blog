/* @import url('https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800;900&display=swap'); */

:root {
    /* Modern Color Palette */
    --primary-color: #1a1a1a;
    --secondary-color: #6366f1;
    --accent-color: #8b5cf6;
    --text-primary: #1f2937;
    --text-secondary: #6b7280;
    --text-muted: #9ca3af;
    --background: #ffffff;
    --background-secondary: #f8fafc;
    --background-tertiary: #f1f5f9;
    --border-color: #e2e8f0;
    --border-hover: #cbd5e1;
    --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
    --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
    --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
    --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
    --radius-sm: 0.375rem;
    --radius-md: 0.5rem;
    --radius-lg: 0.75rem;
    --radius-xl: 1rem;
    --radius-2xl: 1.5rem;

    /* Dark mode colors */
    --dark-background: #0f172a;
    --dark-background-secondary: #1e293b;
    --dark-background-tertiary: #334155;
    --dark-text-primary: #f8fafc;
    --dark-text-secondary: #cbd5e1;
    --dark-text-muted: #94a3b8;
    --dark-border-color: #334155;
    --dark-border-hover: #475569;

    /* Legacy variables for compatibility */
    --fg-color: var(--text-primary);
    --fg-color-6: var(--text-muted);
    --bg-color: var(--background);
}

* {
    box-sizing: border-box;
}

/* Performance optimizations */
html {
    scroll-behavior: smooth;
}

body {
    font-display: swap;
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

/* Mermaid diagram styles */
.mermaid {
    text-align: center;
    margin: 2rem 0;
    min-height: 400px;
    width: 100%;
}

.mermaid svg {
    max-width: 100%;
    min-width: 600px;
    height: auto;
    font-size: 16px !important;
}

/* Make Mermaid text larger and more readable */
.mermaid svg text {
    font-size: 16px !important;
    font-weight: 500 !important;
}

/* Improve node styling */
.mermaid svg .node rect,
.mermaid svg .node circle,
.mermaid svg .node ellipse,
.mermaid svg .node polygon {
    stroke-width: 2px !important;
}

/* Improve edge styling */
.mermaid svg .edgePath .path {
    stroke-width: 2px !important;
}

.mermaid svg .edgeLabel {
    font-size: 14px !important;
    font-weight: 500 !important;
}

/* Ensure mermaid diagrams work well in dark mode */
.dark-mode .mermaid {
    filter: invert(1) hue-rotate(180deg);
}

.dark-mode .mermaid .node rect,
.dark-mode .mermaid .node circle,
.dark-mode .mermaid .node ellipse,
.dark-mode .mermaid .node polygon {
    fill: #1e293b !important;
    stroke: #475569 !important;
}

.dark-mode .mermaid .edgePath .path {
    stroke: #94a3b8 !important;
}

.dark-mode .mermaid .edgeLabel {
    background-color: #1e293b !important;
    color: #f1f5f9 !important;
}

a {
    color: inherit;
    text-decoration: none;
}

body,
html {
    padding: 0;
    margin: 0;
    scroll-behavior: smooth;
}

body {
    overflow-x: hidden;
}

.utterances {
    max-width: 100% !important;
}

.static-tweet blockquote {
    margin: 0;
    margin-block-start: 0;
    margin-block-end: 0;
    margin-inline-start: 0;
    margin-inline-end: 0;
}

.static-tweet-emoji {
    height: 1.2em !important;
    width: 1.2em !important;
}

.katex {
    font-size: 1em !important;
}

@font-face {
    font-family: 'CMU Serif Roman';
    src: url('/fonts/cmu-roman.ttf') format('truetype');
    font-weight: normal;
    font-style: normal;
}

@font-face {
    font-family: 'CMU Serif Roman';
    src: url('/fonts/cmu-roman-italic.ttf') format('truetype');
    font-style: italic;
}

@font-face {
    font-family: 'CMU Typewriter';
    src: url('/fonts/cmu-typewriter-regular.ttf') format('truetype');
    font-weight: normal;
    font-style: normal;
}

@font-face {
    font-family: 'CMU Typewriter';
    src: url('/fonts/cmu-typewriter-light.ttf') format('truetype');
    font-weight: lighter;
    font-style: normal;
}

@font-face {
    font-family: 'CMU Typewriter';
    src: url('/fonts/cmu-typewriter-bold.ttf') format('truetype');
    font-weight: bold;
    font-style: normal;
}

@font-face {
    font-family: 'CMU Typewriter';
    src: url('/fonts/cmu-typewriter-italic.ttf') format('truetype');
    font-style: italic;
}

@font-face {
    font-family: 'CMU Unicode Normal';
    src: url('/fonts/cmu-normal.ttf') format('truetype');
    font-weight: normal;
    font-style: normal;
}

@font-face {
    font-family: 'CMU Unicode Normal';
    src: url('/fonts/cmu-normal-bold.ttf') format('truetype');
    font-weight: bold;
    font-style: normal;
}


@font-face {
    font-family: 'TeX Gyre Bonum Regular';
    src: url('/fonts/TeX Gyre Bonum Regular.otf') format('opentype');
    font-weight: normal;
    font-style: normal;
}


.notion-inline-code {
    font-size: 90%;
}

.notion-aside-table-of-contents .notion-table-of-contents-item {
    font-size: 80% !important;
}

.notion-collection-row-value {
    font-size: 1rem !important;
}

/* Hide Calendly badge widget since we're using our own button in the Toolbox */
.calendly-badge-widget {
    display: none !important;
}


.calendly-overlay .calendly-popup .calendly-popup-content {
    background-color: #fff !important;
}

/* Mermaid edge thickness overrides - must be global to affect SVG */
svg .edge-thickness-normal {
    stroke-width: 2.5px !important; /* was 1px, now 1px + 1.5px */
}

svg .edge-thickness-thick {
    stroke-width: 5px !important; /* was 3.5px, now 3.5px + 1.5px */
}

svg .edge-thickness-invisible {
    stroke-width: 0 !important; /* keep invisible as 0 */
}

/* Also increase default edge path stroke width */
svg .edgePath .path {
    stroke-width: 3.5px !important; /* was 2px, now 2px + 1.5px */
}

/* Increase arrowhead stroke width */
svg .arrowheadPath {
    stroke-width: 3.5px !important;
}

.cluster rect {
    filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1)) !important;
}