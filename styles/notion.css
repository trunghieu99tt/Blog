/**
 * This file contains site-specifc style overrides for Notion elements from
 * react-notion-x.
 * 
 * react-notion-x's goal is to match styling as close as possible to Notion,
 * whereas our goal with this site is to adjust Notion's styling in a few key
 * places to add some flare.
 */

.notion {
    --notion-max-width: 1024px;
    --notion-header-height: 54px;
}

.notion-page {
    padding-bottom: calc(max(5vh, 32px)) !important;
    line-height: 1.4;
}

.index-page {
    --notion-max-width: 95vw;
}

.notion-text {
    /* padding: 0.5em 2px; */
}

.notion-asset-caption {
    text-align: center;
}

.notion-asset-wrapper {
    margin-top: 1em;
    margin-bottom: 1em;
}

.notion-header .nav-header {
    max-width: 1100px;
    margin: 0 auto;
}

.notion-gallery-grid {
    grid-template-columns: repeat(auto-fill, minmax(380px, 1fr));
    grid-gap: 2.5rem;
    gap: 2.5rem;
    grid-auto-rows: initial;
    padding-top: 2rem;
}

.notion-gallery-grid .notion-page-icon {
    display: none;
}

.notion-gallery-grid .notion-page-title-text {
    font-size: 1.4rem;
    line-height: 1.4;
    font-weight: 600;
    white-space: unset;
    color: #1f2937;
    margin-bottom: 12px;
    transition: color 0.2s ease;
}

.notion-collection-card:hover .notion-page-title-text {
    color: #374151;
}

.notion-gallery-grid .notion-collection-card-property {
    white-space: unset;
    text-overflow: unset;
    margin-bottom: 8px;
}

.notion-gallery-grid .notion-property-text {
    font-size: 14px;
    color: #6b7280;
    line-height: 1.5;
}

/* Enhanced property styling for better visual hierarchy */
.notion-collection-card-property:first-of-type .notion-property-text {
    font-weight: 500;
    color: #374151;
}

.dark-mode .notion-collection-card-property:first-of-type .notion-property-text {
    color: #d1d5db;
}

/* Add subtle fade-in animation */
.notion-collection-card {
    animation: fadeInUp 0.6s ease-out;
}

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(30px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Stagger animation for multiple cards */
.notion-collection-card:nth-child(1) {
    animation-delay: 0.1s;
}

.notion-collection-card:nth-child(2) {
    animation-delay: 0.2s;
}

.notion-collection-card:nth-child(3) {
    animation-delay: 0.3s;
}

.notion-collection-card:nth-child(4) {
    animation-delay: 0.4s;
}

.notion-collection-card:nth-child(5) {
    animation-delay: 0.5s;
}

.notion-collection-card:nth-child(6) {
    animation-delay: 0.6s;
}

/* Improve focus states for accessibility */
.notion-collection-card:focus {
    outline: 2px solid #6366f1;
    outline-offset: 2px;
}

.dark-mode .notion-collection-card:focus {
    outline-color: #818cf8;
}

/* Add visual indicators for different content types */
.notion-collection-card::before {
    content: '';
    position: absolute;
    top: -1px;
    left: -1px;
    right: -1px;
    height: 3px;
    background: linear-gradient(90deg, #374151, #6b7280, #9ca3af);
    border-radius: 20px 20px 0 0;
    opacity: 0;
    transition: all 0.3s ease;
    z-index: 1;
}

.notion-collection-card:hover::before {
    opacity: 1;
    height: 4px;
}

.notion-collection-card {
    border-radius: 20px;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
    padding: 24px;
    background: #ffffff;
    border: 1px solid rgba(229, 231, 235, 0.8);
    overflow: visible;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    cursor: pointer;
    overflow: hidden;
}

.notion-collection-card:hover {
    transform: translateY(-8px);
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.12);
    border-color: rgba(107, 114, 128, 0.4);
    background: #fafafa;
}

.notion-collection-card:active {
    transform: translateY(-4px);
    transition: all 0.1s;
}

.notion-collection-card-cover {
    display: none;
    border-radius: 16px;
    overflow: hidden;
    height: 10rem;
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
    border-bottom: 0 none;
    transition: all 0.3s ease;
    filter: none;
    margin-bottom: 16px;
}

.notion-collection-card-cover img {
    border-radius: 16px;
    transition: transform 0.3s ease;
}

.notion-collection-card:hover .notion-collection-card-cover img {
    transform: scale(1.05);
}

/* only target safari */
@media screen and (-webkit-min-device-pixel-ratio: 0) {

    _::-webkit-full-page-media,
    _:future,
    :root,
    .notion-collection-card-cover {
        transition: none 0ms linear;
    }
}

.notion-quote {
    padding: 0.2em 0.75em;
    font-size: 1em;
}

.notion-h1,
.notion-h2,
.notion-h3 {
    margin-bottom: 0.25em;
}

.notion-callout {
    margin: 0.75em 0;
}

.notion-hr {
    margin: 2em 0;
}

@media only screen and (max-width: 920px) {
    .index-page.notion-page {
        padding-left: 2vw;
        padding-right: 2vw;
    }
}

@media only screen and (max-width: 720px) {
    .notion-page {
        padding-left: 2vw;
        padding-right: 2vw;
    }
}

@media only screen and (max-width: 600px) {
    .notion-search-button {
        display: none !important;
    }
}

@media only screen and (max-width: 768px) {
    .notion-gallery-grid {
        grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
        grid-gap: 1.5rem;
        gap: 1.5rem;
        padding: 0 0.5rem;
    }

    .notion-collection-card {
        padding: 20px;
    }

    .notion-gallery-grid .notion-page-title-text {
        font-size: 1.2rem;
    }
}

@media only screen and (max-width: 400px) {
    .notion-gallery-grid {
        grid-template-columns: 1fr;
        grid-gap: 1rem;
        gap: 1rem;
        padding: 0;
    }

    .notion-collection-card {
        margin: 0 0.5rem;
        padding: 16px;
    }
}

.notion .notion-page-icon-cover {
    margin-left: auto;
    margin-right: auto;
}

.notion-title {
    display: block;
    text-align: center;
}

.notion-collection-column-title {
    display: none !important;
}

.notion-collection-row-property .notion-property {
    display: flex;
    justify-content: center;
}

.notion-collection-row-value {
    padding: 0;
}

.notion-page-cover {
    max-width: 1200px;
    border-radius: 24px;
    box-shadow: 2px 2px 8px 4px rgba(15, 15, 15, 0.1);
    max-height: 40vh;
    height: 40vh;
}

@media only screen and (max-width: 1200px) {
    .notion-page-cover {
        border-radius: 0;
    }
}

.notion-block-ab9a258d6cf444f3bb40dc2600feae91 .notion-page-link {
    justify-content: center;
    padding: 2em;
}

.notion-code {
    background: rgba(249, 250, 251, 1);
    border: 1px solid rgba(229, 231, 235, 1);
    border-radius: 0.375rem;
}

.notion-link {
    position: relative;
    transition: unset;
    opacity: 1;
}

.notion-link:hover {
    border-width: 3px;
    border-image: linear-gradient(90.68deg, #b439df 0.26%, #e5337e 102.37%);
    border-image-slice: 1;
}

.notion-red_background,
.notion-pink_background,
.notion-blue_background,
.notion-purple_background,
.notion-teal_background,
.notion-yellow_background,
.notion-orange_background,
.notion-brown_background,
.notion-gray_background {
    padding: 0 0.5rem;
    margin: 0 -0.5rem 0 -0.25rem;
    border-radius: 0.5rem;
    border-bottom-left-radius: 0.125rem;
    box-decoration-break: clone;

    background-color: none;

    /* light yellow */
    background-image: linear-gradient(119deg,
            var(--bg-color),
            #fff697 10.5%,
            #fdf59d 85.29%,
            var(--bg-color));
}

.notion-purple_background,
.notion-pink_background {
    /* light pink */
    background-image: linear-gradient(119deg,
            var(--bg-color),
            #f5b8d1 10.5%,
            #f9bcd3 85.29%,
            var(--bg-color));
}

.notion-blue_background,
.notion-gray_background {
    /* light blue */
    background-image: linear-gradient(119deg,
            var(--bg-color),
            #adedfc 10.5%,
            #adebfd 85.29%,
            var(--bg-color));
}

.notion-red_background,
.notion-orange_background {
    /* light red */
    background-image: linear-gradient(119deg,
            var(--bg-color),
            #f5c4ff 10.5%,
            #e7a8fc 85.29%,
            var(--bg-color));
}

.notion-teal_background {
    /* light green */
    background-image: linear-gradient(119deg,
            var(--bg-color),
            #d4eabc 10.5%,
            #d2eabc 85.29%,
            var(--bg-color));
}

.notion-brown_background {
    /* dark blue */
    background-image: linear-gradient(119deg,
            var(--bg-color),
            #96b8ec 10.5%,
            #a6c3f0 85.29%,
            var(--bg-color));
}

/* Dark Mode Blog Cards */
.dark-mode .notion-collection-card {
    background: #1f2937;
    border-color: rgba(75, 85, 99, 0.3);
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.25);
}

.dark-mode .notion-collection-card:hover {
    background: #374151;
    border-color: rgba(156, 163, 175, 0.4);
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);
}

.dark-mode .notion-gallery-grid .notion-page-title-text {
    color: #f9fafb;
}

.dark-mode .notion-collection-card:hover .notion-page-title-text {
    color: #e5e7eb;
}

.dark-mode .notion-gallery-grid .notion-property-text {
    color: #9ca3af;
}

.dark-mode .notion-red_background,
.dark-mode .notion-pink_background,
.dark-mode .notion-blue_background,
.dark-mode .notion-purple_background,
.dark-mode .notion-teal_background,
.dark-mode .notion-yellow_background,
.dark-mode .notion-orange_background,
.dark-mode .notion-brown_background,
.dark-mode .notion-gray_background {
    padding: 0;
    margin: 0;
    border-radius: 0;
    background: none !important;
}

.notion-block-f382a57807bc40779860eb079d0144f2 .lazy-image-wrapper {
    border-radius: 16px;
}

/* if you don't want rounded page images, remove this */
.notion-page-icon-wrapper img.notion-page-icon {
    border-radius: 50%;
    box-shadow: 0 8px 40px 0 rgb(0 0 0 / 21%);
    object-fit: cover;
}

.notion-header {
    background: hsla(0, 0%, 100%, 0.8);
    backdrop-filter: saturate(180%) blur(16px);
}

.dark-mode .notion-header {
    background: transparent;
    box-shadow: inset 0 -1px 0 0 rgba(0, 0, 0, 0.1);
    backdrop-filter: saturate(180%) blur(8px);
}

.notion-bookmark:hover {
    border-image: linear-gradient(90.68deg, #b439df 0.26%, #e5337e 102.37%);
    border-image-slice: 1;
}

@media (min-width: 1300px) and (min-height: 300px) {
    .notion-page-content-has-aside {
        display: flex;
        flex-direction: row;
        width: calc((100vw + var(--notion-max-width)) / 2);
    }

    .notion-page-content-has-aside .notion-aside {
        display: flex;
        padding: 1rem;
    }

    .notion-page-content-has-aside .notion-page-content-inner {
        width: 65%;
        max-width: var(--notion-max-width);
    }
}

.notion-aside-table-of-contents {
    max-height: 60vh !important;
}

.notion-aside-table-of-contents .notion-table-of-contents-item-body {
    line-height: 1.5;
    text-wrap: auto;
}

.notion-property-select,
.notion-property-multi_select {
    gap: 0.5rem;
}

.notion-page-cover-wrapper {
    display: none !important;
}

.notion-page-icon-wrapper {
    position: relative;
}

pre[class*='language-']:before,
pre[class*='language-']:after {
    display: none !important;
}

.notion .notion-inline-code {
    color: #eb5757 !important;
    padding: 0.2em 0.4em !important;
    background: var(--bg-color-2) !important;
}

.notion-page-icon-hero {
    position: relative;
}

.notion-page-icon-hero.notion-page-icon-image .notion-page-icon {
    border-radius: 50%;
}

.notion-nav-header {
    max-width: 1140px;
    margin: 0 auto;
}

.notion-page-title .notion-page-icon-inline {
    display: none;
}

.notion-text:first-child {
    margin: 1rem 0;
}